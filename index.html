<!DOCTYPE html>
<html lang="en">
<head>
  <title>Cry Happily App</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #fff0f5;
      color: #4a148c;
      text-align: center;
      padding: 40px;
    }

    section {
      background: #fce4ec;
      padding: 20px;
      margin: 20px auto;
      max-width: 500px;
      border-radius: 20px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }

    input, select, button {
      padding: 10px;
      border: none;
      border-radius: 10px;
      margin: 10px;
      font-size: 1em;
    }

    button {
      background-color: #ba68c8;
      color: white;
      cursor: pointer;
    }

    button:hover {
      background-color: #9c27b0;
    }

    .history {
      text-align: left;
      font-size: 0.95em;
      margin-top: 20px;
    }
  </style>
</head>
<body>

  <h1>💖 Cry Happily</h1>
  <p>Your soft mood diary</p>

  <section>
    <h2>How are you feeling today?</h2>
    <select id="mood">
      <option value="">Choose your mood</option>
      <option value="😊 Happy">😊 Happy</option>
      <option value="😔 Sad">😔 Sad</option>
      <option value="😤 Stressed">😤 Stressed</option>
      <option value="💤 Tired">💤 Tired</option>
      <option value="🌈 Hopeful">🌈 Hopeful</option>
    </select><br>

    <input type="text" id="note" placeholder="Write your soft thought here..."><br>

    <button onclick="saveMood()">Save Entry</button>

    <div class="history" id="history">
      <h3>🌸 Mood History</h3>
      <ul id="log"></ul>
    </div>
  </section>

  <script>
    function saveMood() {
      const mood = document.getElementById("mood").value;
      const note = document.getElementById("note").value.trim();
      if (!mood) {
        alert("Please select your mood 🌸");
        return;
      }

      const entry = {
        mood: mood,
        note: note || "(no message)",
        date: new Date().toLocaleString()
      };

      let logs = JSON.parse(localStorage.getItem("cryHappilyLogs")) || [];
      logs.unshift(entry);
      localStorage.setItem("cryHappilyLogs", JSON.stringify(logs));

      document.getElementById("note").value = "";
      document.getElementById("mood").value = "";

      displayHistory();
    }

    function displayHistory() {
      let logs = JSON.parse(localStorage.getItem("cryHappilyLogs")) || [];
      const logList = document.getElementById("log");
      logList.innerHTML = "";

      logs.forEach(entry => {
        const li = document.createElement("li");
        li.innerText = `${entry.date} — ${entry.mood} — “${entry.note}”`;
        logList.appendChild(li);
      });
    }

    window.onload = displayHistory;
  </script>

</body>
</html>
